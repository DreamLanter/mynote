学生姓名：解雲暄                         专业：信息安全                           学号：3190105871      <br />同组学生姓名：郭长洁                  指导老师：蔡铭   <br />实验地点：紫金港东四 - 509         实验日期：2020 年 12 月 14 日


## 1 实验原理
（1）寄存器：一组二进制存储单元；一个寄存器可以用于存储一列二进制值，通常用于进行简单数据存储、移动和处理等操作；能存储信息并保存多个时钟周期，能用信号来控制“保存”或“加载”信息 。<br />（2）采用 Load 控制反馈的寄存器： 保证时钟的连续性，且选择性地使用加载控制来改变寄存器的内容。<br />（3）寄存器传输：寄存器中数据的传输和处理。<br />（4）采用寄存器传输原理的计数器：
![image.png](./assets/1609145165180-94fab8a9-77df-45be-8875-d62e8df6aa2e.png)
（5）基于多路选择器总线的寄存器传输：
![image.png](./assets/1609145199851-381e5ffe-b262-4197-90c4-0697d51b775a.png)
（6）基于多路选择器总线的寄存器传输：
![image.png](./assets/1609145207054-9e9e8eb1-bdbd-44be-959a-7f6e4ccea0cc.png)
（7）寄存器传输应用设计：
![image.png](./assets/1609145214652-3ad18122-7ba6-4242-a732-d005c7a3e2d8.png)


## 2 实验步骤与结果

### 2.1 采用寄存器传输原理设计计数器
新建工程命名为 mission1_Register_Counter,设置顶层模块为 HDL。<br />新建源文件，命名为 MyRegister4b,以原理图形式设计，如下图。
![image.png](./assets/1609145479348-a4f8b56d-9186-4bf1-9a69-9900ab62558e.png)
新建源文件，命名为 Load_Gen，以 verilog 形式设计，其中调用的防抖动模块 Pbdebounce 可从之前的实验中拷贝过来。Load_Gen 代码如下：
![image.png](./assets/1609145488799-5dc3006d-bec8-4752-9864-ec1022e2bc83.png)    <br />拷贝先前实验的 clkdiv，AddSub4b，DispNum 模块，加入文件。
![image.png](./assets/1609145541371-8a8cf52d-b2bb-4b41-a6a0-3d00773bcc67.png)
新建源文件命名为 Top，以 Verilog 形式设计，并设置为顶层模块，代码如下：
![image.png](./assets/1609145559998-ce7049c9-ca2b-4de8-a7b4-9d2331946417.png)
新建引脚约束文件K7：
![image.png](./assets/1609145568401-6056a071-7cbc-4ca5-9e70-82a2aa38b6f2.png)
下载到实验板上进行验证。


### 2.2 基于多路选择器总线的寄存器传输
步骤一：新建项目命名为 mission2_BaseOnMux,顶层模块选用 HDL<br />步骤二：新建源文件命名为 Top，右键设置成顶层模块，以 verilog 形式设计，代码如下：
![image.png](./assets/1609145608086-98166f85-8ba6-4b5e-91c6-59ca93208d77.png)
步骤三：将任务一中的 myregister4b.sch 和.sym 文件拷贝到 mission2 的文件夹内，并将其添加入文件。 <br />步骤四：同任务一中的步骤四。<br />步骤五：编写引脚约束文件 k7，代码如下：
![image.png](./assets/1609145621013-d8009f83-9e8c-456b-a100-53f31ae54960.png)
步骤六：下载到实验板中进行验证。


### 2.3 基于ALU的数据传输应用设计
步骤一：新建工程命名为 mission3_BaseOnALU,顶层模块设置成 HDL。 <br />步骤二：新建源文件命名为 Top，右键设置成顶层模块，代码如下：
![image.png](./assets/1609145679103-0bd8cce2-1fe8-4337-9be7-44178c09646a.png)
步骤三：同任务二中的步骤三。<br />步骤四：新建引脚约束文件 k7，如下：
![image.png](./assets/1609145688769-0cc0b181-6c27-465f-95d1-9f6f2f7e8339.png)
步骤五：下载到实验板进行验证。


### 2.4 实验结果

#### 2.4.1 采用寄存器传输原理设计计数器
![image.png](./assets/1609145748892-442f964f-68d7-4592-8acf-b5fd978b0be2.png)

#### 2.4.2 基于多路选择器总线的寄存器传输
![image.png](./assets/1609145793104-5e2ac90c-ff0d-484c-8314-23b2164f9951.png)

#### 2.4.3 基于ALU的数据传输应用设计
![image.png](./assets/1609145863599-299f106b-5d99-4a3c-b5b2-2a560f55ec3d.png)

实验结果均体现在四位数码管的显示上，设置的四位数码管分别显示ABC 三个寄存器以及总线中的数值。其中两个开关控制 MUX，选择 A，B，C 三个寄存器的值输入到总线中。两个开关控制 ALU，分别控制加法，减法，按位与和按位或四个功能，而ALU 的操作数由寄存器 A 和寄存器 B 提供。SW[0]和 SW[1]两个开关控制寄存器 AB 的自增或者是自减。 <br />实验结果符合我们的预期，可以正常实现数据的传输，选择，运算功能。


## 3 讨论与心得
此次实验，我们通过传输 ALU 了解了寄存器的设计。通过对以往组件的调用让我对之前各个组件的功能有了更为清晰的认知，也进一步提高了相关的应用能力。<br />这次实验过程中，由于对 Verilog 代码仍然不是非常熟练，因此也出现了一些问题。但是最终还是完成了任务。总体来说收获很大。
