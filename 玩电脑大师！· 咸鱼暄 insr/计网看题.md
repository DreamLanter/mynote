答案字体是白色的，选中或者复制走就能看到QWQ

### 0 绪论

#### 0.1 OSI 参考模型和 TCP/IP 模型
知道有哪些层、各层都在干啥

1. 在 OSI 参考模型中
   1. 提供建立、维护和拆除端到端连接的层是 传输层。
   2. 可同时提供无连接服务和面向连接服务的是 网络层（注意，TCP/IP 的网络层都是无连接，而传输层都有；OSI 的网络层两种都有，传输层只有面向连接）。
   3. 负责数据的格式转换和压缩的是 表示层。
   4. 为防止网络故障重传整个文件而插入同步点的是 会话层。
2. TCP/IP 参考模型中处理关于可靠性、流量控制和错误校正等问题的是 传输层。


### 1 物理层

#### 1.1 物理层的任务

1. 某网络在物理层规定，信号的电平用 +10V ~ +15V 表示二进制 0，用 -10V ~ -15V 表示二进制 1，电线长度限于 15m 内，这体现了物理层接口的 电气 特性。
2. 当描述一个物理层接口引脚处于高电平时的含义时，该描述属于 功能 特性。


#### 1.2 编码与调制
知道各种调制和编码方法！

1. 一个以太网的 Baud rate 是 40MBaud，则其 data rate 是 20Mbps。
2. 采用 8 种相位，每种相位各有 2 种幅度的 QAM 调制，在 1200Baud 的速率能达到的 data rate 是 4.8kbps。
3. 一条无噪声的 8kHz 信道，每个信号包含 8 级，每秒采样 24k 次，那么可以获得的最大传输速率是 48kbps。
4. 一条无噪声的 8kHz 信道，每个信号包含 8 级，每秒采样 12k 次，那么可以获得的最大传输速率是 36kbps。
5. 一个信道每 1/8s 采样一次，传输信号共有 16 种变化状态，最大数据传输速率是 32bps。
6. ![](./assets/1634992025084-468c56f5-631e-4081-9793-67aab69b0177.png)


#### 1.3 交换

1. C ![54F98B69B5EC0FFA0FA5BD56491CDAAA.jpg](./assets/1640006734836-2d1f25ca-79ea-47b6-9548-2397aca92cb1.jpeg)
2. ![3438602D76F07B49606C9DD1D9E955DE.jpg](./assets/1640007054631-c7077ab3-ac73-46f9-b8d6-e6c39c9a7aa2.jpeg)
   1. ![B3644198FA0EDBE98DC04058B628D192.jpg](./assets/1640007593776-086f5e90-0ffe-4456-84f3-65427ed31f5e.jpeg)


### 2 数据链路层

#### 2.1 成帧
![image.png](./assets/1636884297938-7450d3f9-7057-430b-b3e7-04de8602da25.png)
![image.png](./assets/1636884316290-8f9e31b2-0618-4e3a-8e49-dc412c3b5398.png)


#### 2.2 差错控制
![image.png](./assets/1636884297938-7450d3f9-7057-430b-b3e7-04de8602da25.png)
![image.png](./assets/1636884316290-8f9e31b2-0618-4e3a-8e49-dc412c3b5398.png)

![image.png](./assets/1636884328271-95e19b09-a358-4feb-9192-85c14d99e062.png)
![image.png](./assets/1636884342592-9a1e9b1a-041c-4042-8984-466a46edbfe4.png)
![image.png](./assets/1636884383589-5469c7d8-5a72-49f5-9c8d-52d0b43b8d72.png)

- 对于 10 位要传输的数据，使用 Hamming code，需要的冗余信息位数是 4 位。


#### 2.3 流量控制

1. 两台主机之间的数据链路层采用 GBN 协议传输数据，数据传输速率是 16kbps，单向传播时延是 460ms，数据帧长度范围是 128~512 字节，接收方的确认帧长可以忽略。为使信道利用率达到最高，帧序号的比特数至少为 5。
2. 对于滑动窗口协议，若分组序号采用 3 bit 编号，发送窗口大小为 5，则接收窗口最大是 3。
   1. 解析： 接收方想要 0~(n-1)，现在0来了，接受窗口移到1~n，但是不必发回去 ACK0 因为比如他想 piggyback，或者你认为发出去丢了也行，反正他的窗口动了。总之 接收窗口会把 0~4 都接下来，然后 接收窗口移动到 5~(n+4)%MAX，假如所有ACK都丢了，发送方重发 0~4，我们需要保证 0~4 不在接收窗口里，也就是说，我们的接收窗口和发送窗口要完全错开，也就是发送+接收<=2^n。
3. 关于 GBN 和 SR 是否使用累积确认，考研真题和课本有不同的想法。
   - 我们理应记得这张图，在这里 SR 是使用累积确认的：
   - ![N27@LB(BFSSKWZ}G~JN{0IT.png](./assets/1640015424767-2b47f5b6-f3e6-4082-8e55-feba436c7a35.png)
   - 但是考研真题默认 GBN 用累积确认，SR 不使用累积确认：
   - 【2009】数据链路层使用了 GBN 协议，发送方已经发送了编号为 0~7 的帧，计时器超时时，若发送方只收到了 0, 2, 3 的确认，则发送方需要重发的帧数是 4。
   - 【2011】数据链路层使用 SR 传输数据，发送方已经发送 0~3，现已收到 1 号帧的确认，0, 2 号帧依次超时。则此时需要重传的帧数是 2。
   - 总之，出题的时候看清楚怎么说的吧QWQ
4. 主机甲和乙之间用 GBN 传输数据。甲的发送窗口尺寸是 1000，数据帧长是 1000 字节，信道带宽是 100Mbps。乙每收到一个数据帧立刻用一个短帧（忽略传输延迟）进行确认；若甲、乙之间的单向传播时延是 50ms，则甲可以达到的最大平均数据传输速率约为 80Mbps。
   1. ![140222A7657BEC9C52A817FE7CCA46E6.jpg](./assets/1640016013261-e72ad2c5-b14a-4837-9405-bae8fbbac1c5.jpeg)
5. ![C6BC95EE8849195365556F5636C7E436.jpg](./assets/1640328439047-9c662bcb-6862-44e2-870b-4be18d2e4313.jpeg)


#### 2.4 介质访问控制

1. 长度在 10km、传输速率为 10Mbps 的 CSMA/CD 以太网，信号传播速率是 200m/μs，则该网络的最小帧长是 帧长 = BW × 帧时间 >= BW × RTT = BW × 2 × length / Vp = 1000bit。
2. 在一个采用 CSMA/CD 的网络中，传输介质是一根完整的电缆，传输速率是 1Gbps，信号传播速率是 200000km/s。若最小数据帧长度减少 800 bit，则最远的两个站点之间的距离需要 减少 80m。
3. ![5DF2F8296804711ECE3700D0D2ABD6F4.jpg](./assets/1640332492876-17c12210-272c-436f-a064-e5d129c8c8fb.jpeg)
4. ![371CFE66002ADC6AB332FAF4313069FD.jpg](./assets/1640334584827-0384ae3b-8416-4bd4-af8b-3046c819adca.jpeg)

#### 2.5 网桥和交换机

1. 对于 100Mbps 的以太网交换机，当输出端口无排队，以 cut-through switching 方式转发一个以太网帧时，引入的转发时延至少是 6 * 8 bits / 100 Mbps = 0.48μs。
2. ![0AC5AC210DA62BF6FE0E59D14A374E5E.jpg](./assets/1640338266516-1b2656f5-28ba-412b-a5fb-eebde8d054ed.jpeg)

记得看 PPP, HDLC, IEEE 802.3, IEEE 802.11 之类的）


### 3 网络层

#### 3.1 路由算法

1. ![7EC6D4A1D2070FDB17690F07F30144B3.jpg](./assets/1640338626297-b2f99103-1a6e-47b7-bd2d-a1a6af15c8c3.jpeg)
2. ![B36B59770F13CBB22B14FA2BE941ACDB.jpg](./assets/1640338755192-13568969-03b3-4ed3-bf95-9f66fe9ee2cf.jpeg)


#### 3.2 IPv4

1. ![28E4A20DD23E24E9FAD251117F975247.jpg](./assets/1640339093872-b484ad8d-a1b8-4d12-8060-b6cb1b2d87a5.jpeg)
2. 一个网段的网络号为 198.90.10.0/27，最多可以分成 8 个子网。
3. ![955F8F35CB742DABD4EBCF50D01931E9.jpg](./assets/1640339490436-d0e2473e-12fa-4d0a-8a4f-bdad853431e6.jpeg)
4. ![9868093CB1F13D88351D61DDE2A46C0E.jpg](./assets/1640339567798-c4f5bb51-ebf1-4fc7-8e70-4a336aefecf9.jpeg)
5. 若将 101.200.16.0/20 划分为 5 个子网，则可能的最小子网的可分配 IP 地址数是 254。
6. ![C86135669C9EF65B0CB08E8C72048807.jpg](./assets/1640340672298-dc9acb01-eb4f-4c0c-b015-328d27e50d9e.jpeg)
![B23FE486714F53E850FC00E5AB325235.jpg](./assets/1640340677498-3ea394aa-1d71-4880-b0f7-18b5d51af287.jpeg)


#### 3.3 IPv6

- IPv6 没有 checksum，首部长度不可变（用 next header），不允许分片


#### 3.4 路由协议

1. ![8B40A1A3221F368E40E967D346BF04CD.jpg](./assets/1640340344304-c679267b-bf15-4b41-b58d-acef59efc035.jpeg)
   1. RIP 用 UDP 因为它是应用层的；BGP 也是应用层但是互联网太大了 TCP 比较靠谱；OSPF 是泛洪的所以是网络层协议，这样能小一点
2. ![F1924B49319593C37005A28C2179C173.jpg](./assets/1640340476028-3cb09f15-00fc-4c56-9b87-e88d3ef2565d.jpeg)


### 4 传输层

- 熟知端口号 well-known port：0~1023；TCP 和 UDP 分别有自己的端口号，互不干扰，可以共存于同一台主机。
- UDP

#### 4.1 TCP

1. ![FC777C5FDEFB8BF7C887EE9ED45367A3.jpg](./assets/1640341358973-64ecc135-d300-4e88-bb3b-cce40a2b9f0f.jpeg)
2. ![1523A9D31CEFA08B2A952E89AD3826C6.jpg](./assets/1640340893576-4d564956-9291-4fcf-b4ff-1f58e31bc8f5.jpeg)
3. 在一个 TCP 连接中，MSS (Max Segment Size) 是 1KB，cwnd = 34KB 时超时，如果接下来的 4 个 RTT 内报文段传输都是成功的，那么当它们都得到确认后，cwnd 的大小是 1 2 4 8 [16]。
4. 在一个 TCP 连接中，MSS (Max Segment Size) 是 1KB，cwnd = 34KB 时收到了 3 个冗余 ACK，如果接下来的 4 个 RTT 内报文段传输都是成功的，那么当它们都得到确认后，cwnd 的大小是 17 18 19 20 [21]。
5. ![A5A802A584ABF441ECFDDB1A5588F80B.jpg](./assets/1640341366063-ffb9a840-9c0b-4c65-96e9-7dd2936ea523.jpeg)
6. ![324DBDA5B5119982B91970A12C62FEC3.jpg](./assets/1640341502972-b67a3c5c-f2ab-41f6-902a-18f277f6d062.jpeg)
7. ![F1DD465FAD06928F7AEC3EE343C6FE6E.jpg](./assets/1640341509023-56a9d8ce-5477-41c2-b780-6ad1c949275b.jpeg)
8. ![1567647E5DF317D892A24FF4413010EC.jpg](./assets/1640341668111-fdea846d-800e-4146-8ac2-abbac24194a0.jpeg)
9. ![05D143714EE3A66C3D1B456855E230B2.jpg](./assets/1640341678694-e79bcc95-9e6d-4921-87b3-7c9c4c8ed0ce.jpeg)
![5332D1DCB91CA2F6E508BD9278BD9256.jpg](./assets/1640341684689-17e0c1aa-5081-4c4b-96c9-e5b143ee5cb3.jpeg)

### 5 应用层
知道各协议的内容、使用的传输层协议等问题。
